<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <title>RegexMate</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
  </head>
  <body>
    <h2>Regexei</h2>
    <div class="container main">
      <div class="user-input-container">
        <h1>Ask your regexei</h1>
        <label for="pattern"
          >I want to generate regex for (e.g., "select all emails"):</label
        >
        <textarea
          required
          type="text"
          id="pattern"
          placeholder="Enter pattern description"
        ></textarea>
        <label for="pattern">It should match string like</label>
        <textarea
          type="text"
          id="pattern-match"
          placeholder="Enter match string "
        ></textarea>
        <label for="pattern">It should not match string like</label>
        <textarea
          type="text"
          id="pattern-non-match"
          placeholder="Enter non match string"
        ></textarea>
        <label for="pattern">Your Logic (Optional):</label>
        <textarea
          type="text"
          id="pattern-logic"
          placeholder="Enter your logic here"
        ></textarea>

        <button id="clearBtn">Clear All</button>
        <button id="generateBtn">Generate Regex</button>
      </div>
      <div class="regex-editor-container">
        <h1>Regex Editor</h1>
        <div id="regexInputContainer">
          <label for="regexInput">Enter/Generated Regex:</label>
          <input
            type="text"
            id="regexInput"
            placeholder="Type your regex here"
          />
        </div>
        <label for="sampleText">Test String:</label>

        <!-- CodeMirror textarea -->
        <textarea id="sampleText"></textarea>

        <div class="output">
          <h3>Generated Regex</h3>
          <p id="regexOutput"></p>
          <button id="copyRegexBtn">Copy Regex</button>
        </div>
      </div>

      <div class="ai-explanation-container">
        <h3>Matched Texts</h3>
        <p id="matchesOutput"></p>
        <h3>Explanation for AI response</h3>
        <textarea
          id="aiExplanation"
          rows="5"
          readonly
          placeholder="AI explanation for generated regex will be displayed here"
        ></textarea>
      </div>
    </div>
    <!-- google ai  -->
    <script type="importmap">
      {
        "imports": {
          "@google/generative-ai": "https://esm.run/@google/generative-ai"
        }
      }
    </script>
    <script type="module" src="script.js"></script>
    <script src="node_modules/codemirror/lib/codemirror.js"></script>
    <script src="node_modules/codemirror/mode/javascript/javascript.js"></script>
  </body>
</html>
